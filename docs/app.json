[{"name":"app.R","content":"\nlibrary(shiny)\nlibrary(bslib)\nlibrary(thematic)\nlibrary(shinylive)\n\nui <- fluidPage(\n  theme = bs_theme(version = 5, bootswatch = \"lux\"),\n  titlePanel(\"Recette de Cookies\"),\n  \n  sidebarLayout(\n    sidebarPanel(\n      sliderInput(\"nb_cookies\", \"Nombre de cookies :\", min = 7, max = 49, value = 14, step = 7),\n      downloadButton(\"download_recette\", \"Télécharger la recette\")\n    ),\n    mainPanel(\n      img(src = \"https://www.shutterstock.com/image-photo/two-chocolate-chips-cookies-isolated-600nw-2490826377.jpg\", \n          height = \"200px\"),\n      \n      tableOutput(\"recette\"),\n      \n      h3(\"Instructions\"),\n      wellPanel(\n        tags$ol(\n          tags$li(\"Préchauffer le four à 180°C.\"),\n          tags$li(\"Mélanger dans un bol, la farine, le sucre blanc et roux et la levure.\"),\n          tags$li(\"Ajouter le sucre vanillé, les œufs et le beurre pommade, bien mélanger.\"),\n          tags$li(\"Incorporer le chocolat préalablement coupé.\"),\n          tags$li(\"Former des boules (environ 75-80g) de pâte et les déposer sur une plaque.\"),\n          tags$li(\"Cuire pendant 5 minutes, puis les sortir 2 minutes avant de les remettre au four pendant 4 minutes.\")\n        )\n      )\n    )\n  )\n)\n\n# Define server logic required to draw a histogram\nserver <- function(input, output) {\n\n  recette_base <- data.frame(\n    Ingredient = c(\"Farine\", \"Sucre blanc\", \"Sucre roux\", \"Levure\", \"Sucre vanillé\", \"Beurre\", \"Oeufs\", \"Chocolat\"),\n    Unité = c(\"g\", \"g\", \"g\", \"sachet\", \"sachet\", \"g\", \"\", \"g\"),\n    Pour_7_cookies = c(220, 50, 50, 0.5, 1, 125, 1, 100))\n  \n  output$recette <- renderTable({\n    recette <- recette_base\n    recette$Quantité <- recette$Pour_7_cookies * (input$nb_cookies / 7)\n    recette$Quantité <- paste0(recette$Quantité, \" \", recette$Unité)\n    recette[, c(\"Ingredient\", \"Quantité\")]\n  })\n  output$download_recette <- downloadHandler(\n    filename = function() { \"recette_cookies.txt\" },\n    content = function(file) {\n      lignes <- c(\n        \"Recette de Cookies\",\n        paste(\"Nombre de cookies :\", input$nb_cookies),\n        \"\\nIngrédients :\"\n      )\n      \n      quantites <- recette_base$Pour_7_cookies * (input$nb_cookies / 7)\n      for (i in seq_along(recette_base$Ingredient)) {\n        lignes <- c(lignes, paste(\"-\", recette_base$Ingredient[i], \":\", quantites[i], recette_base$Unité[i]))\n      }\n      \n      lignes <- c(lignes, \"\\nInstructions :\",\n                  \"1. Préchauffer le four à 180°C.\",\n                  \"2. Mélanger dans un bol, la farine, le sucre blanc et roux et la levure.\",\n                  \"3. Ajouter le sucre vanillé, les œufs et le beurre pommade, bien mélanger.\",\n                  \"4. Incorporer le chocolat préalablement coupé.\",\n                  \"5. Former des boules (environ 75-80g) de pâte et les déposer sur une plaque.\",\n                  \"6. Cuire pendant 5 minutes, puis les sortir 2 minutes avant de les remettre au four pendant 4 minutes.\"\n      )\n      \n      writeLines(lignes, file)\n    }\n  )\n}\n\n\n# Run the application \nshinyApp(ui = ui, server = server)\n","type":"text"},{"name":"project.Rproj","content":"Version: 1.0\n\nRestoreWorkspace: Default\nSaveWorkspace: Default\nAlwaysSaveHistory: Default\n\nEnableCodeIndexing: Yes\nUseSpacesForTab: Yes\nNumSpacesForTab: 2\nEncoding: UTF-8\n\nRnwWeave: Sweave\nLaTeX: pdfLaTeX\n","type":"text"}]
